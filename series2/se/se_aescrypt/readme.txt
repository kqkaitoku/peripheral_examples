se_aescrypt

This example uses the CRYPTO module in the EFR32 Series 2 Secure Element (SE) to
accelerate the AES encryption, descryption, and SHA hash functions of mbed TLS.

The example redirects standard I/O to the virtual serial port (VCOM) of the
Starter Kit. By default the serial port setting is 115200 bps and 8-N-1
configuration.

The user can select encryption (press 'e') or decryption (press 'd') of a
message which should be sent via the VCOM serial interface.

A hard-coded 256-bit key is used for encryption and decryption.

In encryption mode, the example will ask the user for a short phrase to generate
an initial vector used in the AES encryption process. The user may type any 
phrase ended by newline or limited to a maximum of 16 bytes.

After the short phrase, the user should start typing in the message to be
encrypted. The user may type any message ended by newline or limited to a
maximum of #define MAX_MESSAGE_SIZE_ENCRYPTION bytes.

Then the program will encrypt the message (plaintext), and print out the
ciphertext, preceded with the initial vector of 16 bytes and followed by a
message digest tag of 32 bytes. All data is converted to hexadecimal readable
text format before sent to the serial port.

The format is:
Initial Vector (16 bytes)|Ciphertext (maximum MAX_MESSAGE_SIZE_ENCRYPTION bytes)
|Message Digest Tag (32 bytes)

The user can copy the output and feed it back to the program for decryption
later. The user needs to press 'd' to run decryption mode.

In decryption mode, the example will expect to receive a decrypted message
in the same format as generated by the encryption (as shown above).

The example has been instrumented with code to count the number of clock cycles
spent in the encryption and decryption loops. The results are printed to stdout,
i.e. the VCOM serial port console.

To check the performance gain of CRYPTO acceleration, the user can switch off
CRYPTO hardware acceleration by defining NO_CRYPTO_ACCELERATION symbol in IDE
setting.


How To Test:
1. Update the kit's firmware from the Simplicity Launcher (if necessary)
2. Build the project and download to the Starter Kit
3. Open any terminal program and connect to the device's VCOM port
   (Note: If using puTTY, Local echo must be set to force on)
4. Follow the instructions shown on the console.


Peripherals Used:
HFXO   - 38.4 MHz
USART0 - 115200 baud, 8-N-1
SE

Board:  Silicon Labs EFR32xG21 2.4 GHz 10 dBm Radio Board (BRD4181A) + 
        Wireless Starter Kit Mainboard (BRD4001A)
Device: EFM32MG21A010F1024IM32
PA05 - USART0 TX
PA06 - USART0 RX
PD04 - Board Controller VCOM Enable